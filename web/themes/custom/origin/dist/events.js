"use strict";!function(n,s){s.behaviors.events={},s.behaviors.events.from="",s.behaviors.events.to="",s.behaviors.events.categories="",s.behaviors.events.attach=function(e){n(".ajax-events",e).once("events").each(function(){var o=s.behaviors.events,r=s.behaviors.ajaxListLoading;if(o.from=n(".filterform .from-date"),o.to=n(".filterform .to-date"),o.categories=n(".filterform .categories"),""!==window.location.hash){var e=window.location.hash.substring(1);o.updateFilters(e)}n(".filter-list").on("change",function(){o.reloadList()});var a=2;s.behaviors.resizer.isMobile&&(a=1),o.from.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,showAnim:"fadeIn",yearRange:"c:c+1",numberOfMonths:a,onSelect:function(e){o.to.datepicker("option","minDate",e),n(this).change()}}),o.to.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,showAnim:"fadeIn",yearRange:"c:c+1",numberOfMonths:a}),window.onpopstate=function(e){var a="";null!==e.state?(a=n.parseJSON(e.state.params),o.updateFilters(a)):(a=s.behaviors.ajaxListLoading.params,o.updateFilters(a),o.categories.val("all").blur().dropdown("update"));var t=n(".filter-ajax").offset().top-200;n("html, body").animate({scrollTop:t},"500",function(){r.displayList(r.ajaxContainer,r.ajaxPath,a)})}})},s.behaviors.events.reloadList=function(){var e=s.behaviors.events,a=s.behaviors.ajaxListLoading,t=Date.parse(e.from.val()).toString("yyyy-MM-dd"),o=Date.parse(e.to.val()).toString("yyyy-MM-dd"),r=e.categories.val();"all"!==r&&(r="field_categories--"+r.replace(".term-",""));var i='{"content_type":"event","category":"'+r+'","date":"field_date_range--'+t+","+o+'","sort":"field_date_range-ASC"}';a.xhr.abort(),console.log(i),a.displayList(a.ajaxContainer,a.ajaxPath,n.parseJSON(i)),window.history.pushState({params:i},null,window.location)},s.behaviors.events.updateFilters=function(e){var a=s.behaviors.events,t=e.date.replace("field_date_range--","").split(","),o=void 0;o="all"!==e.category?".term-"+e.category.replace("field_categories--",""):"all";var r=t[0].split("-"),i=t[1].split("-");a.from.val(Date.parse(r[1]+"-"+r[0]+"-"+r[2]).toString("Y-m-d")),a.to.val(Date.parse(i[1]+"-"+i[0]+"-"+i[2]).toString("Y-m-d")),a.categories.val(o).blur().dropdown("update")}}(jQuery,Drupal);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy5qcyJdLCJuYW1lcyI6WyIkIiwiRHJ1cGFsIiwiYmVoYXZpb3JzIiwiZXZlbnRzIiwiZnJvbSIsInRvIiwiY2F0ZWdvcmllcyIsImNvbnRleHQiLCJvbmNlIiwiJG9iaiIsIiRhamF4TG9hZCIsImFqYXhMaXN0TG9hZGluZyIsIndpbmRvdyIsImxvY2F0aW9uIiwiaGFzaCIsImRlZmF1bHRIYXNoIiwic3Vic3RyaW5nIiwib24iLCJyZWxvYWRMaXN0Iiwibm9Nb250aHMiLCJyZXNpemVyIiwiaXNNb2JpbGUiLCJkYXRlRm9ybWF0IiwiZGF0ZXBpY2tlciIsImNoYW5nZU1vbnRoIiwiY2hhbmdlWWVhciIsInNob3dBbmltIiwieWVhclJhbmdlIiwic2VsZWN0ZWREYXRlIiwibnVtYmVyT2ZNb250aHMiLCJvblNlbGVjdCIsImNoYW5nZSIsIm9ucG9wc3RhdGUiLCJldmVudCIsInBhcmFtcyIsInN0YXRlIiwicGFyc2VKU09OIiwidXBkYXRlRmlsdGVycyIsInRvcCIsIm9mZnNldCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJhamF4Q29udGFpbmVyIiwiYWpheFBhdGgiLCJEYXRlIiwicGFyc2UiLCJjYXRlZ29yeSIsInZhbCIsInJlcGxhY2UiLCJ0b1N0cmluZyIsImNvbnNvbGUiLCJkaXNwbGF5TGlzdCIsImxvZyIsImRhdGUiLCJzcGxpdCIsImJsdXIiLCJkcm9wZG93biIsImpRdWVyeSJdLCJtYXBwaW5ncyI6ImNBQUMsU0FBc0JBLEVBQUdDLEdBRXRCQSxFQUFBQyxVQUFBQyxPQUFBLEdBR0FGLEVBQU9DLFVBQVVDLE9BQU9DLEtBQU8sR0FEL0JILEVBQU9DLFVBQVVDLE9BQWpCRSxHQUFBLEdBQ0FKLEVBQU9DLFVBQVVDLE9BQU9DLFdBQXhCLEdBRUFILEVBQU9DLFVBQVVDLE9BQU9HLE9BQUFBLFNBQXhCQyxHQUVBTixFQUFBQSxlQUFpQkUsR0FBakJLLEtBQWlDLFVBQVVELEtBQVYsV0FFM0IsSUFBQUUsRUFBQVIsRUFBZ0JNLFVBQWNKLE9BR3hCTyxFQUFZVCxFQUFPQyxVQUFVUyxnQkFPakMsR0FQQUYsRUFBSUMsS0FBQUEsRUFBQUEsMEJBR0pELEVBQUtKLEdBQUtMLEVBQUcsd0JBRGJTLEVBQUtMLFdBQVVKLEVBQUEsMkJBS2EsS0FBekJZLE9BQU9DLFNBQVNDLEtBQVksQ0FEL0IsSUFBQUMsRUFBQUgsT0FBQUMsU0FBQUMsS0FBQUUsVUFBQSxHQUNHSixFQUFBQSxjQUFnQkUsR0FNbkJkLEVBQUUsZ0JBQWdCaUIsR0FBRyxTQUFVLFdBRC9CUixFQUFBUyxlQU1BLElBQUlDLEVBQVcsRUFEZmxCLEVBQUFDLFVBQUFrQixRQUFBQyxXQUNJRixFQUFXLEdBRVhBLEVBQUFBLEtBQUFBLFdBQUEsQ0FDSEcsV0FBQSxXQUNEYixhQUFVYyxFQUNORCxZQUFZLEVBQ1pFLFNBQUFBLFNBQ0FDLFVBQUFBLFFBQ0FDLGVBQVVQLEVBQ1ZRLFNBQUFBLFNBTGlCQyxHQU1qQkMsRUFBQUEsR0FBQUEsV0FOaUIsU0FBQSxVQUFBRCxHQU9qQkUsRUFBQUEsTUFBVUMsWUFHVHRCLEVBQUFKLEdBQUFrQixXQUFBLENBVkxELFdBQUEsV0FZQWIsYUFBUWMsRUFDSkQsWUFBWSxFQUNaRSxTQUFBQSxTQUNBQyxVQUFBQSxRQUNBQyxlQUFVUCxJQU1kUCxPQUFPb0IsV0FBYSxTQUFTQyxHQUE3QnJCLElBQU9vQixFQUFQLEdBRUksT0FBQUMsRUFBSUMsT0FFREQsRUFBTUUsRUFBTkMsVUFBSEgsRUFBd0JFLE1BQUFELFFBQ3BCekIsRUFBQTRCLGNBQUFILEtBREpBLEVBSUtqQyxFQUFBQyxVQUFBUyxnQkFBQXVCLE9BQ0R6QixFQUFBNEIsY0FBQUgsR0FDQUEsRUFBQUEsV0FBZ0JoQyxJQUFBQSxPQUFVUyxPQUFBQSxTQUFnQnVCLFdBTTlDLElBQUlJLEVBQU10QyxFQUFFLGdCQUFnQnVDLFNBQVNELElBQUksSUFEekN0QyxFQUFBLGNBQUF3QyxRQUNJRixDQUFBQSxVQUFRQSxHQUFBLE1BQWdCQyxXQUMxQjdCLEVBQWM4QixZQUNYQyxFQUFEQyxjQUF5QmhDLEVBQVdpQyxTQUFBVCxTQWtCaERqQyxFQUFBQyxVQUFBQyxPQUFBZSxXQUFBLFdBRUEsSUFBSWQsRUFBT3dDLEVBQUtDLFVBQVd6QyxPQUN2QkMsRUFBVXdDLEVBQU1wQyxVQUFYRSxnQkFJTG1DLEVBQUFBLEtBQVdELE1BQUFwQyxFQUFBTCxLQUFBMkMsT0FBcUJELFNBQVNFLGNBQzVDM0MsRUFBQXVDLEtBQUFDLE1BQUFwQyxFQUFBSixHQUFBMEMsT0FBQUUsU0FBQSxjQUpHSCxFQUFXckMsRUFBS0gsV0FBV3lDLE1BT2xCLFFBQWJELElBSklBLEVBQVcscUJBQXFCQSxFQUFTRSxRQUFRLFNBQVMsS0FTOURFLElBQUFBLEVBQVloQix1Q0FBWlksRUFBQSwrQkFBQTFDLEVBQUEsSUFBQUMsRUFBQSxtQ0FHQUssRUFBVXlDLElBQUFBLFFBRVZELFFBQUFFLElBQUFsQixHQUZBeEIsRUFBVXlDLFlBQVl6QyxFQUFVZ0MsY0FBZWhDLEVBQVVpQyxTQUFVM0MsRUFBRW9DLFVBQVVGLElBVS9FdEIsT0FBSUgsUUFBT1IsVUFBT0MsQ0FBQUEsT0FBVUMsR0FBNUIsS0FBQVMsT0FBQUMsV0FGSlosRUFBT0MsVUFBVUMsT0FBT2tDLGNBQWdCLFNBQVVILEdBUzFDWSxJQUFBQSxFQUFBQSxFQUFXNUMsVUFBU2dDLE9BR3ZCbUIsRUFBQW5CLEVBQUFtQixLQUFBTCxRQUFBLHFCQUFBLElBQUFNLE1BQUEsS0FOR1IsT0FBQUEsRUFHQUEsRUFNbUIsUUFBdkJaLEVBQVNtQixTQU5NLFNBQVNuQixFQUFPWSxTQUFTRSxRQUFRLHFCQUFxQixJQVN2REosTUFsQmxCLElBQUF4QyxFQUFBaUQsRUFBQSxHQUFBQyxNQUFBLEtBMEJNckQsRUFuSlRvRCxFQUFELEdBQUFDLE1BQUEsS0EySVE3QyxFQUFLTCxLQUFLMkMsSUFBSUgsS0FBS0MsTUFBTXpDLEVBQUssR0FBRyxJQUFJQSxFQUFLLEdBQUcsSUFBSUEsRUFBSyxJQUFJNkMsU0FBUyxVQUNuRXhDLEVBQUtKLEdBQUcwQyxJQUFJSCxLQUFLQyxNQUFNeEMsRUFBRyxHQUFHLElBQUlBLEVBQUcsR0FBRyxJQUFJQSxFQUFHLElBQUk0QyxTQUFTLFVBQzNEeEMsRUFBS0gsV0FBV3lDLElBQUlELEdBQVVTLE9BQU9DLFNBQVMsV0E3SXJELENBbUpDQyxPQUFReEQiLCJmaWxlIjoiZXZlbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGV2ZW50c1NjcmlwdCgkLCBEcnVwYWwpIHtcclxuXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgRHJ1cGFsLmJlaGF2aW9ycy5ldmVudHMgPSB7fTtcclxuICAgIERydXBhbC5iZWhhdmlvcnMuZXZlbnRzLmZyb20gPSAnJztcclxuICAgIERydXBhbC5iZWhhdmlvcnMuZXZlbnRzLnRvID0gJyc7XHJcbiAgICBEcnVwYWwuYmVoYXZpb3JzLmV2ZW50cy5jYXRlZ29yaWVzID0gJyc7XHJcblxyXG4gICAgRHJ1cGFsLmJlaGF2aW9ycy5ldmVudHMuYXR0YWNoID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuXHJcbiAgICAgICAgJCgnLmFqYXgtZXZlbnRzJywgY29udGV4dCkub25jZSgnZXZlbnRzJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgJG9iaiA9IERydXBhbC5iZWhhdmlvcnMuZXZlbnRzO1xyXG4gICAgICAgICAgICBsZXQgJGFqYXhMb2FkID0gRHJ1cGFsLmJlaGF2aW9ycy5hamF4TGlzdExvYWRpbmc7XHJcblxyXG4gICAgICAgICAgICAkb2JqLmZyb20gPSAkKCBcIi5maWx0ZXJmb3JtIC5mcm9tLWRhdGVcIiApO1xyXG4gICAgICAgICAgICAkb2JqLnRvID0gJCggXCIuZmlsdGVyZm9ybSAudG8tZGF0ZVwiICk7XHJcbiAgICAgICAgICAgICRvYmouY2F0ZWdvcmllcyA9ICQoIFwiLmZpbHRlcmZvcm0gLmNhdGVnb3JpZXNcIiApO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBkZWZhdWx0IEZpbHRlcnMgVmFsdWUgZnJvbSBoYXNoIGlmIGV4aXN0c1xyXG4gICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaGFzaCAhPT0gJycpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlZmF1bHRIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgJG9iai51cGRhdGVGaWx0ZXJzKGRlZmF1bHRIYXNoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gIFRyaWdnZXIgdGhlIGRpc3BsYXkgb2YgdGhlIGxpc3Qgb24gZmlsdGVyIGNoYW5nZVxyXG4gICAgICAgICAgICAkKFwiLmZpbHRlci1saXN0XCIpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG9iai5yZWxvYWRMaXN0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRGF0ZXBpY2tlciBzZXR1cFxyXG4gICAgICAgICAgICBsZXQgbm9Nb250aHMgPSAyO1xyXG4gICAgICAgICAgICBpZihEcnVwYWwuYmVoYXZpb3JzLnJlc2l6ZXIuaXNNb2JpbGUpe1xyXG4gICAgICAgICAgICAgICAgbm9Nb250aHMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRvYmouZnJvbS5kYXRlcGlja2VyKHtcclxuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwieXktbW0tZGRcIixcclxuICAgICAgICAgICAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBbmltOiBcImZhZGVJblwiLFxyXG4gICAgICAgICAgICAgICAgeWVhclJhbmdlOiBcImM6YysxXCIsXHJcbiAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogbm9Nb250aHMsXHJcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24oIHNlbGVjdGVkRGF0ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICAkb2JqLnRvLmRhdGVwaWNrZXIoIFwib3B0aW9uXCIsIFwibWluRGF0ZVwiLCBzZWxlY3RlZERhdGUgKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNoYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJG9iai50by5kYXRlcGlja2VyKHtcclxuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6IFwieXktbW0tZGRcIixcclxuICAgICAgICAgICAgICAgIGNoYW5nZU1vbnRoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2hhbmdlWWVhcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBbmltOiBcImZhZGVJblwiLFxyXG4gICAgICAgICAgICAgICAgeWVhclJhbmdlOiBcImM6YysxXCIsXHJcbiAgICAgICAgICAgICAgICBudW1iZXJPZk1vbnRoczogbm9Nb250aHNcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBIaXN0b3J5IGhhbmRsaW5nXHJcbiAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24oZXZlbnQpe1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICBpZihldmVudC5zdGF0ZSAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGRhdGEgZnJvbSBoaXN0b3J5IHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gJC5wYXJzZUpTT04oZXZlbnQuc3RhdGUucGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAkb2JqLnVwZGF0ZUZpbHRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBkZWZhdWx0c1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IERydXBhbC5iZWhhdmlvcnMuYWpheExpc3RMb2FkaW5nLnBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICAkb2JqLnVwZGF0ZUZpbHRlcnMocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAkb2JqLmNhdGVnb3JpZXMudmFsKCdhbGwnKS5ibHVyKCkuZHJvcGRvd24oXCJ1cGRhdGVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQW5pbWF0ZSBhbmQgcmVsb2FkIGxpc3RcclxuICAgICAgICAgICAgICAgIGxldCB0b3AgPSAkKCcuZmlsdGVyLWFqYXgnKS5vZmZzZXQoKS50b3AtMjAwO1xyXG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoXHJcbiAgICAgICAgICAgICAgICAgICAge3Njcm9sbFRvcDogdG9wfSwgJzUwMCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYWpheExvYWQuZGlzcGxheUxpc3QoJGFqYXhMb2FkLmFqYXhDb250YWluZXIsICRhamF4TG9hZC5hamF4UGF0aCwgcGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIERydXBhbC5iZWhhdmlvcnMuZXZlbnRzLnJlbG9hZExpc3QgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICBsZXQgJG9iaiA9IERydXBhbC5iZWhhdmlvcnMuZXZlbnRzO1xyXG4gICAgICAgIGxldCAkYWpheExvYWQgPSBEcnVwYWwuYmVoYXZpb3JzLmFqYXhMaXN0TG9hZGluZztcclxuXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJG9iai50by52YWwoKSlcclxuXHJcbiAgICAgICAgbGV0IGZyb20gPSBEYXRlLnBhcnNlKCRvYmouZnJvbS52YWwoKSkudG9TdHJpbmcoJ3l5eXktTU0tZGQnKTtcclxuICAgICAgICBsZXQgdG8gPSBEYXRlLnBhcnNlKCRvYmoudG8udmFsKCkpLnRvU3RyaW5nKCd5eXl5LU1NLWRkJyk7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gJG9iai5jYXRlZ29yaWVzLnZhbCgpO1xyXG5cclxuICAgICAgICBpZihjYXRlZ29yeSAhPT0gJ2FsbCcpe1xyXG4gICAgICAgICAgICBjYXRlZ29yeSA9ICdmaWVsZF9jYXRlZ29yaWVzLS0nK2NhdGVnb3J5LnJlcGxhY2UoJy50ZXJtLScsJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGFyYW1zIHN0cmluZ1xyXG4gICAgICAgIGxldCBwYXJhbXMgPSAne1wiY29udGVudF90eXBlXCI6XCJldmVudFwiLFwiY2F0ZWdvcnlcIjpcIicrY2F0ZWdvcnkrJ1wiLFwiZGF0ZVwiOlwiZmllbGRfZGF0ZV9yYW5nZS0tJytmcm9tKycsJyt0bysnXCIsXCJzb3J0XCI6XCJmaWVsZF9kYXRlX3JhbmdlLUFTQ1wifSc7XHJcblxyXG4gICAgICAgIC8vIEFib3J0IGFueSBwb3NzaWJsZSBjdXJyZW50IGFqYXggY2FsbFxyXG4gICAgICAgICRhamF4TG9hZC54aHIuYWJvcnQoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cocGFyYW1zKTtcclxuXHJcbiAgICAgICAgLy8gVHJpZ2dlciB0aGUgZGlzcGxheSBvZiB0aGUgbGlzdFxyXG4gICAgICAgICRhamF4TG9hZC5kaXNwbGF5TGlzdCgkYWpheExvYWQuYWpheENvbnRhaW5lciwgJGFqYXhMb2FkLmFqYXhQYXRoLCAkLnBhcnNlSlNPTihwYXJhbXMpKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IGhpc3Rvcnkgc3RhdGVcclxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe3BhcmFtczpwYXJhbXN9LG51bGwsd2luZG93LmxvY2F0aW9uKTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBEcnVwYWwuYmVoYXZpb3JzLmV2ZW50cy51cGRhdGVGaWx0ZXJzID0gZnVuY3Rpb24gKHBhcmFtcyl7XHJcblxyXG4gICAgICAgIGxldCAkb2JqID0gRHJ1cGFsLmJlaGF2aW9ycy5ldmVudHM7XHJcblxyXG4gICAgICAgIC8vIEdldCB2YWx1ZXMgZnJvbSBwYXJhbXNcclxuICAgICAgICBsZXQgZGF0ZSA9IHBhcmFtcy5kYXRlLnJlcGxhY2UoJ2ZpZWxkX2RhdGVfcmFuZ2UtLScsJycpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5O1xyXG5cclxuICAgICAgICBpZihwYXJhbXMuY2F0ZWdvcnkgIT09ICdhbGwnKXtcclxuICAgICAgICAgICAgY2F0ZWdvcnkgPSAnLnRlcm0tJytwYXJhbXMuY2F0ZWdvcnkucmVwbGFjZSgnZmllbGRfY2F0ZWdvcmllcy0tJywnJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5ID0gJ2FsbCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZnJvbSA9IGRhdGVbMF0uc3BsaXQoJy0nKTtcclxuICAgICAgICBsZXQgdG8gPSBkYXRlWzFdLnNwbGl0KCctJyk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZXMgRmlsdGVycyBWYWx1ZSBvbiBQYWdlXHJcbiAgICAgICAgJG9iai5mcm9tLnZhbChEYXRlLnBhcnNlKGZyb21bMV0rJy0nK2Zyb21bMF0rJy0nK2Zyb21bMl0pLnRvU3RyaW5nKCdZLW0tZCcpKTtcclxuICAgICAgICAkb2JqLnRvLnZhbChEYXRlLnBhcnNlKHRvWzFdKyctJyt0b1swXSsnLScrdG9bMl0pLnRvU3RyaW5nKCdZLW0tZCcpKTtcclxuICAgICAgICAkb2JqLmNhdGVnb3JpZXMudmFsKGNhdGVnb3J5KS5ibHVyKCkuZHJvcGRvd24oXCJ1cGRhdGVcIik7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59KGpRdWVyeSwgRHJ1cGFsKSk7Il19
