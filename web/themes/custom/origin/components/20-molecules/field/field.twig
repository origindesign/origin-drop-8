{%
    set classes = [
        'field',
        'field--name-' ~ field_name|clean_class,
        'field--type-' ~ field_type|clean_class,
        'field--label-' ~ label_display,
        image_focus
    ]
%}

{%
    set title_classes = [
        'field__label',
        label_display == 'visually_hidden' ? 'visually-hidden',
    ]
%}

{% if label_hidden %}

    {% if multiple %}

        <div{{ attributes.addClass(classes, 'field__items') }}>

            {% for item in items %}

                {% if item.url %}
                    <a {{ item.attributes.addClass('field__item') }} href="{{ item.url }}">
                        {{ item.content }}
                    </a>
                {% else %}
                    <div{{ item.attributes.addClass('field__item') }}>
                        {{ item.content }}
                        {% if credit %}
                            <div class="credit">{{ credit }}</div>
                        {% endif %}
                    </div>
                {% endif %}

            {% endfor %}

        </div>

    {% else %}

        {% for item in items %}

            {% if item.url %}
                <a {{ attributes.addClass(classes, 'field__item') }} href="{{ item.url }}" {% if item.target %}target="{{ item.target }}"{% endif %}>
                    {{ item.content }}
                </a>

            {% elseif item.content_override %}
                <div{{ attributes.addClass(classes, 'field__item') }}>
                    {{ item.content_override }}
                </div>

            {% else %}
                <div{{ attributes.addClass(classes, 'field__item') }}>
                    {{ item.content }}
                    {% if credit %}
                        <div class="credit">{{ credit }}</div>
                    {% endif %}
                </div>

            {% endif %}

        {% endfor %}

    {% endif %}

{% else %}

    <div{{ attributes.addClass(classes) }}>
        <div{{ title_attributes.addClass(title_classes) }}>{{ label }}</div>

        {% if multiple %}
        <div class="field__items">
            {% endif %}

            {% for item in items %}

                {% if item.url %}
                    <a {{ item.attributes.addClass('field__item') }} href="{{ item.url }}" {% if item.target %}target="{{ item.target }}"{% endif %}>
                        {{ item.content }}
                    </a>

                {% elseif item.content_override %}
                    <div{{ item.attributes.addClass('field__item') }}>
                        {{ item.content_override }}
                    </div>

                {% else %}
                    <div{{ item.attributes.addClass('field__item') }}>
                        {{ item.content }}
                    </div>

                {% endif %}

            {% endfor %}

            {% if multiple %}
        </div>
        {% endif %}

    </div>

{% endif %}
