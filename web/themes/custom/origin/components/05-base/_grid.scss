
// Global setups
// ----------------------
$grid-spacing: 20px;

@mixin global-grid(){
    @include add-grid(12);
    @include add-gutter(1);
}

@include global-grid();

.row{
    @include rowMargin();
}

@mixin resetGrid(){
    margin-left:0 !important; margin-right:0 !important; float:none !important; clear:none !important; width:auto !important;
}


// Float Columns
// ----------------------
@mixin two-col-float(){
    width:100%;
    &:not(:last-child){
        margin-bottom:$grid-spacing;
    }
    @include breakpoint($bp--tablet-portrait){
        @include float-span(6);
        &:nth-child(odd){
            clear:both;
        }
        &:nth-child(even){
            @include float-span(6,'last');
            clear:none;
        }
        &:last-child,
        &:nth-last-child(2){
            margin-bottom:0;
        }
    }
}

.two-col-float{
    @include clearfix();
    > *{
        @include two-col-float();
    }
}

@mixin three-col-float(){
    
    @include two-col-float();
    
    @include breakpoint($bp--tablet-landscape){
        
        &:nth-child(3n-2){
            clear:both !important;
        }
        &:nth-child(3n-2),
        &:nth-child(3n-1){
            @include float-span(4);
        }
        &:nth-child(3n){
            @include float-span(4,last);
            clear:none !important;
        }
        &:last-child,
        &:nth-last-child(2),
        &:nth-last-child(3){
            margin-bottom:0;
        }
    }
    
}

.three-col-float{
    @include clearfix();
    > *{
        @include three-col-float();
    }
}


// Flex Columns
// ----------------------
@mixin two-col-flex(){
    
    @include breakpoint($bp--tablet-portrait){
        display:flex; flex-wrap:wrap;
    }
    
    > *{
        width:100%;
        &:not(:last-child){
            margin-bottom:$grid-spacing;
        }
        @include breakpoint($bp--tablet-portrait){
            width:50%;
            &:last-child,
            &:nth-last-child(2){
                margin-bottom:0;
            }
        }
    }
    
}

.two-col-float{
    @include two-col-flex();
}

@mixin three-col-flex(){
    @include two-col-flex();

    @include breakpoint($bp--tablet-landscape){
    
        > *{
            width:calc(100%/3);
            
            &:last-child,
            &:nth-last-child(2),
            &:nth-last-child(3){
                margin-bottom:0;
            }
            
        }
       
    }

}

.three-col-flex{
    @include three-col-flex();
}


// Grid Columns
// ----------------------
@mixin three-col-grid(){

    > *{
        margin-bottom:$grid-spacing;
    
        @include breakpoint($bp--medium){
            justify-self:center;
        }
        
    }

    @include breakpoint($bp--medium){
        display:grid; grid-template-rows:auto; grid-template-columns: repeat(2, 1fr); grid-gap:$grid-spacing;
    }

    @include breakpoint($bp--tablet-portrait){
        grid-template-rows:auto; grid-template-columns: repeat(3, 1fr);
    }

}

.three-col-grid{
    @include three-col-grid();
}

@mixin three-col-flex(){
    > *{
        margin-bottom:$grid-spacing;
    }

}
